(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-785e9841"],{"057f":function(t,e,r){var o=r("fc6a"),n=r("241c").f,c={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return n(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==c.call(t)?a(t):n(o(t))}},"1dde":function(t,e,r){var o=r("d039"),n=r("b622"),c=r("2d00"),i=n("species");t.exports=function(t){return c>=51||!o((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,r){"use strict";var o=r("23e7"),n=r("b727").filter,c=r("1dde"),i=r("ae40"),a=c("filter"),s=i("filter");o({target:"Array",proto:!0,forced:!a||!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"746f":function(t,e,r){var o=r("428f"),n=r("5135"),c=r("e538"),i=r("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});n(e,t)||i(e,t,{value:c.f(t)})}},8418:function(t,e,r){"use strict";var o=r("c04e"),n=r("9bf2"),c=r("5c6c");t.exports=function(t,e,r){var i=o(e);i in t?n.f(t,i,c(0,r)):t[i]=r}},"99af":function(t,e,r){"use strict";var o=r("23e7"),n=r("d039"),c=r("e8b5"),i=r("861d"),a=r("7b0b"),s=r("50c4"),u=r("8418"),l=r("65f0"),f=r("1dde"),d=r("b622"),p=r("2d00"),b=d("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",v=p>=51||!n((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),g=f("concat"),P=function(t){if(!i(t))return!1;var e=t[b];return void 0!==e?!!e:c(t)},y=!v||!g;o({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,o,n,c,i=a(this),f=l(i,0),d=0;for(e=-1,o=arguments.length;e<o;e++)if(c=-1===e?i:arguments[e],P(c)){if(n=s(c.length),d+n>m)throw TypeError(h);for(r=0;r<n;r++,d++)r in c&&u(f,d,c[r])}else{if(d>=m)throw TypeError(h);u(f,d++,c)}return f.length=d,f}})},a4d3:function(t,e,r){"use strict";var o=r("23e7"),n=r("da84"),c=r("d066"),i=r("c430"),a=r("83ab"),s=r("4930"),u=r("fdbf"),l=r("d039"),f=r("5135"),d=r("e8b5"),p=r("861d"),b=r("825a"),m=r("7b0b"),h=r("fc6a"),v=r("c04e"),g=r("5c6c"),P=r("7c73"),y=r("df75"),w=r("241c"),O=r("057f"),_=r("7418"),x=r("06cf"),j=r("9bf2"),C=r("d1e7"),$=r("9112"),k=r("6eeb"),S=r("5692"),M=r("f772"),D=r("d012"),E=r("90e3"),U=r("b622"),N=r("e538"),F=r("746f"),T=r("d44e"),J=r("69f3"),K=r("b727").forEach,A=M("hidden"),B="Symbol",z="prototype",I=U("toPrimitive"),Q=J.set,W=J.getterFor(B),q=Object[z],G=n.Symbol,H=c("JSON","stringify"),L=x.f,R=j.f,V=O.f,X=C.f,Y=S("symbols"),Z=S("op-symbols"),tt=S("string-to-symbol-registry"),et=S("symbol-to-string-registry"),rt=S("wks"),ot=n.QObject,nt=!ot||!ot[z]||!ot[z].findChild,ct=a&&l((function(){return 7!=P(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,r){var o=L(q,e);o&&delete q[e],R(t,e,r),o&&t!==q&&R(q,e,o)}:R,it=function(t,e){var r=Y[t]=P(G[z]);return Q(r,{type:B,tag:t,description:e}),a||(r.description=e),r},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},st=function(t,e,r){t===q&&st(Z,e,r),b(t);var o=v(e,!0);return b(r),f(Y,o)?(r.enumerable?(f(t,A)&&t[A][o]&&(t[A][o]=!1),r=P(r,{enumerable:g(0,!1)})):(f(t,A)||R(t,A,g(1,{})),t[A][o]=!0),ct(t,o,r)):R(t,o,r)},ut=function(t,e){b(t);var r=h(e),o=y(r).concat(bt(r));return K(o,(function(e){a&&!ft.call(r,e)||st(t,e,r[e])})),t},lt=function(t,e){return void 0===e?P(t):ut(P(t),e)},ft=function(t){var e=v(t,!0),r=X.call(this,e);return!(this===q&&f(Y,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(Y,e)||f(this,A)&&this[A][e])||r)},dt=function(t,e){var r=h(t),o=v(e,!0);if(r!==q||!f(Y,o)||f(Z,o)){var n=L(r,o);return!n||!f(Y,o)||f(r,A)&&r[A][o]||(n.enumerable=!0),n}},pt=function(t){var e=V(h(t)),r=[];return K(e,(function(t){f(Y,t)||f(D,t)||r.push(t)})),r},bt=function(t){var e=t===q,r=V(e?Z:h(t)),o=[];return K(r,(function(t){!f(Y,t)||e&&!f(q,t)||o.push(Y[t])})),o};if(s||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=E(t),r=function(t){this===q&&r.call(Z,t),f(this,A)&&f(this[A],e)&&(this[A][e]=!1),ct(this,e,g(1,t))};return a&&nt&&ct(q,e,{configurable:!0,set:r}),it(e,t)},k(G[z],"toString",(function(){return W(this).tag})),k(G,"withoutSetter",(function(t){return it(E(t),t)})),C.f=ft,j.f=st,x.f=dt,w.f=O.f=pt,_.f=bt,N.f=function(t){return it(U(t),t)},a&&(R(G[z],"description",{configurable:!0,get:function(){return W(this).description}}),i||k(q,"propertyIsEnumerable",ft,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:G}),K(y(rt),(function(t){F(t)})),o({target:B,stat:!0,forced:!s},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=G(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!a},{create:lt,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:dt}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt,getOwnPropertySymbols:bt}),o({target:"Object",stat:!0,forced:l((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(m(t))}}),H){var mt=!s||l((function(){var t=G();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));o({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var o,n=[t],c=1;while(arguments.length>c)n.push(arguments[c++]);if(o=e,(p(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!at(e))return e}),n[1]=e,H.apply(null,n)}})}G[z][I]||$(G[z],I,G[z].valueOf),T(G,B),D[A]=!0},dbb4:function(t,e,r){var o=r("23e7"),n=r("83ab"),c=r("56ef"),i=r("fc6a"),a=r("06cf"),s=r("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,o=i(t),n=a.f,u=c(o),l={},f=0;while(u.length>f)r=n(o,e=u[f++]),void 0!==r&&s(l,e,r);return l}})},e305:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{staticClass:"d-flex justify-content-end mt-3 mb-3"},[r("b-button",{attrs:{pill:"",variant:"primary"},on:{click:t.newModal}},[t._v("建立新產品")])],1),r("table",{staticClass:"table mt-4 text-white"},[t._m(0),r("tbody",t._l(t.products,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.category))]),r("td",[t._v(t._s(e.title))]),r("td",[t._v(" "+t._s(e.origin_price)+" ")]),r("td",[t._v(" "+t._s(e.price)+" ")]),r("td",[e.enabled?r("span",{staticClass:"text-success"},[t._v("啟用")]):r("span",[t._v("未啟用")])]),r("td",[r("div",{staticClass:"btn-group"},[r("b-button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(r){return t.getDetails(e)}}},[t._v(" 編輯 ")]),r("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(r){return t.delModal(e)}}},[t._v(" 刪除 ")])],1)])])})),0)]),r("b-modal",{ref:"newModal",attrs:{size:"xl",centered:"","hide-footer":"",title:"產品內容"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},[r("b-form",[r("div",{staticClass:"form-group"},[r("label",[t._v("顯示圖片網址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl[0],expression:"tempProduct.imageUrl[0]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入圖片網址"},domProps:{value:t.tempProduct.imageUrl[0]},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.imageUrl,0,e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{staticClass:"d-flex justify-content-between align-items-center"},[t._v("上傳圖片"),r("b-button",{on:{click:t.uploadedFile}},[t._v("上傳圖片")])],1),r("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"選擇圖片","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),r("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl[0],alt:""}})],1)])],1),r("div",{staticClass:"col-8"},[r("div",{staticClass:"form-group"},[r("label",[t._v("標題")]),r("b-form-input",{attrs:{placeholder:"請輸入標題"},model:{value:t.tempProduct.title,callback:function(e){t.$set(t.tempProduct,"title",e)},expression:"tempProduct.title"}})],1),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group"},[r("label",[t._v("分類")]),r("b-form-input",{attrs:{placeholder:"請輸入分類"},model:{value:t.tempProduct.category,callback:function(e){t.$set(t.tempProduct,"category",e)},expression:"tempProduct.category"}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("單位")]),r("b-form-input",{attrs:{placeholder:"請輸入單位"},model:{value:t.tempProduct.unit,callback:function(e){t.$set(t.tempProduct,"unit",e)},expression:"tempProduct.unit"}})],1)]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group"},[r("label",[t._v("原價")]),r("b-form-input",{attrs:{placeholder:"請輸入原價"},model:{value:t.tempProduct.origin_price,callback:function(e){t.$set(t.tempProduct,"origin_price",e)},expression:"tempProduct.origin_price"}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("售價")]),r("b-form-input",{attrs:{placeholder:"請輸入售價"},model:{value:t.tempProduct.price,callback:function(e){t.$set(t.tempProduct,"price",e)},expression:"tempProduct.price"}})],1)]),r("div",{staticClass:"form-group"},[r("label",[t._v("產品詳細")]),r("b-form-textarea",{attrs:{rows:"3","max-rows":"3",placeholder:"請輸入產品詳細"},model:{value:t.tempProduct.description,callback:function(e){t.$set(t.tempProduct,"description",e)},expression:"tempProduct.description"}})],1),r("div",{staticClass:"form-group"},[r("label",[t._v("產品簡介")]),r("b-form-textarea",{attrs:{rows:"3","max-rows":"3",placeholder:"請輸入產品簡介(限20字以內)"},model:{value:t.tempProduct.content,callback:function(e){t.$set(t.tempProduct,"content",e)},expression:"tempProduct.content"}})],1),r("div",{staticClass:"d-flex justify-content-between"},[r("b-form-checkbox",{attrs:{id:"is_enabled"},model:{value:t.tempProduct.enabled,callback:function(e){t.$set(t.tempProduct,"enabled",e)},expression:"tempProduct.enabled"}},[t._v(" 啟用 ")]),r("b-button",{on:{click:function(e){return t.newProduct()}}},[t._v("新增產品")]),r("b-button",{on:{click:function(e){return t.saveProduct()}}},[t._v("儲存修改")])],1)])])]),r("b-modal",{ref:"delModal",attrs:{centered:"","hide-footer":"",title:"刪除商品"}},[r("div",{staticClass:"d-flex justify-content-between"},[t._v(' 確定刪除"'+t._s(t.tempProduct.title)+'"？ '),r("b-button",{on:{click:function(e){return t.delProduct()}}},[t._v("確認刪除")])],1)])],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v(" 分類 ")]),r("th",[t._v("產品名稱")]),r("th",[t._v(" 原價 ")]),r("th",[t._v(" 售價 ")]),r("th",[t._v(" 是否啟用 ")]),r("th",[t._v(" 編輯 ")])])])}],c=(r("99af"),r("5530")),i={data:function(){return{products:[],tempProduct:{title:"",category:"",unit:"",origin_price:"",price:"",description:"",content:"",enabled:!0,imageUrl:[]},file:null,pagination:{},token:""}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/ec/products?page=").concat(e);this.$http.get(r).then((function(e){t.products=e.data.data}))},newModal:function(){this.tempProduct={imageUrl:[]},this.$refs.newModal.show()},getDetails:function(t){var e=this;this.tempProduct=Object(c["a"])({},t);var r="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/ec/product/").concat(this.tempProduct.id);this.$http.get(r).then((function(t){e.tempProduct=t.data.data})),this.tempProduct=Object(c["a"])({},t),this.$refs.newModal.show()},newProduct:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/ec/product");this.$http.post(e,this.tempProduct).then((function(){t.getProducts(),t.$swal({icon:"success",title:"新增商品成功!",text:"請繼續操作",button:"OK"}),t.$refs.newModal.hide()}))},saveProduct:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/ec/product/").concat(this.tempProduct.id);this.$http.patch(e,this.tempProduct).then((function(){t.getProducts(),t.$swal({icon:"success",title:"編輯商品成功!",text:"請繼續操作",button:"OK"}),t.$refs.newModal.hide()}))},uploadedFile:function(){var t=this,e=this.file,r="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/storage"),o=new FormData;o.append("file",e),this.$http.post(r,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.tempProduct.imageUrl.push(e.data.data.path),t.$swal({icon:"success",title:"上傳圖片成功!",text:"請繼續操作",button:"OK"})}))},delModal:function(t){this.tempProduct=Object(c["a"])({},t),this.$refs.delModal.show()},delProduct:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/","api/").concat("1f1839a8-d78f-4fc7-b088-b55e63cc35a3","/admin/ec/product/").concat(this.tempProduct.id);this.$http.delete(e).then((function(){t.$swal({icon:"success",title:"刪除商品成功!",text:"請繼續操作",button:"OK"}),t.$refs.delModal.hide(),t.getProducts()}))}}},a=i,s=r("2877"),u=Object(s["a"])(a,o,n,!1,null,null,null);e["default"]=u.exports},e439:function(t,e,r){var o=r("23e7"),n=r("d039"),c=r("fc6a"),i=r("06cf").f,a=r("83ab"),s=n((function(){i(1)})),u=!a||s;o({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return i(c(t),e)}})},e538:function(t,e,r){var o=r("b622");e.f=o}}]);
//# sourceMappingURL=chunk-785e9841.606de895.js.map